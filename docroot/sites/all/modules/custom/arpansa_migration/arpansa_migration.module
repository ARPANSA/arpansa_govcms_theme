<?php

/**
 * @file
 * arpansa_migration.module
 */

/**
 * Implements hook_migrate_api().
 */
function arpansa_migration_migrate_api() {
  module_load_include('inc', 'arpansa_migration', 'migrations/base');
  module_load_include('inc', 'arpansa_migration', 'migrations/file');
  module_load_include('inc', 'arpansa_migration', 'migrations/file.metadata');
  module_load_include('inc', 'arpansa_migration', 'migrations/ia');
  module_load_include('inc', 'arpansa_migration', 'migrations/page');
  module_load_include('inc', 'arpansa_migration', 'migrations/redirect');

  $api = [
    'api' => 2,
    'groups' => [
      'arpansa_content' => [
        'title' => t('Legacy content'),
      ],
      'arpansa_file' => [
        'title' => t('Legacy files'),
      ],
    ],
    'migrations' => [
      'File' => [
        'class_name' => 'ArpansaMigrationFile',
        'group_name' => 'arpansa_file',
      ],
      'FileMetadata' => [
        'class_name' => 'ArpansaMigrationFileMetadata',
        'group_name' => 'arpansa_file',
        'dependencies' => ['File'],
      ],
      'IA' => [
        'class_name' => 'ArpansaMigrationIA',
        'group_name' => 'arpansa_content',
      ],
      'Page' => [
        'class_name' => 'ArpansaMigrationPage',
        'group_name' => 'arpansa_content',
      ],
      'Redirect' => [
        'class_name' => 'ArpansaMigrationRedirect',
        'group_name' => 'arpansa_content',
      ],
    ],
  ];

  return $api;
}
